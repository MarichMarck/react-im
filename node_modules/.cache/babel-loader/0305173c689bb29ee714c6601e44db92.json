{"ast":null,"code":"import _toConsumableArray from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{combineReducers}from'redux';import{INIT_CHAT_INFO,INIT_MESS_LIST,RECEIVE_CHAT_MSG,CHANGE_RIGHT_TYPE,INIT_FRIEND_INFO,AUTH_SUCCESS,ERR_MSG,USERINFO,LOGOUT,MODIFY_USER_CONTACTS,GET_NEW_FRIENDS,GET_USER_MAILLIST}from'./action-type';import{initUser,initChatInfo,friendInfo}from'./init';// 当前登录的用户信息\nfunction user(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initUser;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case AUTH_SUCCESS:return _objectSpread({},action.data,{},state,{redirectTo:'/'});case USERINFO:var _action$data=action.data,userInfo=_action$data.userInfo,contacts=_action$data.contacts;return _objectSpread({},state,{userInfo:userInfo,contacts:contacts});case LOGOUT:return _objectSpread({},action.data,{redirectTo:'/login'});case ERR_MSG:return _objectSpread({},state,{msg:action.data,redirectTo:'/login'});case MODIFY_USER_CONTACTS:return _objectSpread({},state,{contacts:action.data.contacts});default:return state;}}// 好友的用户基本信息\nfunction friend(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:friendInfo;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case INIT_FRIEND_INFO:return _objectSpread({},state,{},action.data);case GET_NEW_FRIENDS:return _objectSpread({},state,{newFriend:action.data});case GET_USER_MAILLIST:return _objectSpread({},state,{},action.data,{mailList:action.data});default:return state;}}// 当前查看的消息列表\nfunction chat(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initChatInfo;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case INIT_CHAT_INFO:return _objectSpread({},state,{},action.data);case INIT_MESS_LIST:return _objectSpread({},state,{},action.data);case RECEIVE_CHAT_MSG:/* 接收消息 */var chatMsg=action.data;return{chatUserInfo:state.chatUserInfo,messList:[].concat(_toConsumableArray(state.messList),[chatMsg])};case CHANGE_RIGHT_TYPE:return _objectSpread({},state,{},action.data);default:return state;}}export default combineReducers({user:user,chat:chat,friend:friend});","map":{"version":3,"sources":["/Users/mr.bo/项目/React/react-im/src/redux/reducers.js"],"names":["combineReducers","INIT_CHAT_INFO","INIT_MESS_LIST","RECEIVE_CHAT_MSG","CHANGE_RIGHT_TYPE","INIT_FRIEND_INFO","AUTH_SUCCESS","ERR_MSG","USERINFO","LOGOUT","MODIFY_USER_CONTACTS","GET_NEW_FRIENDS","GET_USER_MAILLIST","initUser","initChatInfo","friendInfo","user","state","action","type","data","redirectTo","userInfo","contacts","msg","friend","newFriend","mailList","chat","chatMsg","chatUserInfo","messList"],"mappings":"6PAAA,OAAQA,eAAR,KAA8B,OAA9B,CACA,OACIC,cADJ,CACoBC,cADpB,CACoCC,gBADpC,CAEIC,iBAFJ,CAEuBC,gBAFvB,CAEyCC,YAFzC,CAEuDC,OAFvD,CAGIC,QAHJ,CAGcC,MAHd,CAGsBC,oBAHtB,CAG4CC,eAH5C,CAG6DC,iBAH7D,KAIO,eAJP,CAKA,OAAQC,QAAR,CAAkBC,YAAlB,CAAgCC,UAAhC,KAAiD,QAAjD,CAEA;AACA,QAASC,CAAAA,IAAT,EAAwC,IAA1BC,CAAAA,KAA0B,2DAAlBJ,QAAkB,IAARK,CAAAA,MAAQ,2CACpC,OAAQA,MAAM,CAACC,IAAf,EACI,IAAKb,CAAAA,YAAL,CACI,wBAAWY,MAAM,CAACE,IAAlB,IAA2BH,KAA3B,EAAkCI,UAAU,CAAE,GAA9C,GACJ,IAAKb,CAAAA,QAAL,kBACiCU,MAAM,CAACE,IADxC,CACWE,QADX,cACWA,QADX,CACqBC,QADrB,cACqBA,QADrB,CAEI,wBAAWN,KAAX,EAAkBK,QAAQ,CAARA,QAAlB,CAA4BC,QAAQ,CAARA,QAA5B,GACJ,IAAKd,CAAAA,MAAL,CACI,wBAAWS,MAAM,CAACE,IAAlB,EAAwBC,UAAU,CAAE,QAApC,GACJ,IAAKd,CAAAA,OAAL,CACI,wBAAWU,KAAX,EAAkBO,GAAG,CAAEN,MAAM,CAACE,IAA9B,CAAoCC,UAAU,CAAE,QAAhD,GACJ,IAAKX,CAAAA,oBAAL,CACI,wBAAWO,KAAX,EAAkBM,QAAQ,CAAEL,MAAM,CAACE,IAAP,CAAYG,QAAxC,GACJ,QACI,MAAON,CAAAA,KAAP,CAbR,CAeH,CAED;AACA,QAASQ,CAAAA,MAAT,EAA4C,IAA5BR,CAAAA,KAA4B,2DAApBF,UAAoB,IAARG,CAAAA,MAAQ,2CACxC,OAAQA,MAAM,CAACC,IAAf,EACI,IAAKd,CAAAA,gBAAL,CACI,wBAAWY,KAAX,IAAqBC,MAAM,CAACE,IAA5B,EACJ,IAAKT,CAAAA,eAAL,CACI,wBAAWM,KAAX,EAAkBS,SAAS,CAAER,MAAM,CAACE,IAApC,GACJ,IAAKR,CAAAA,iBAAL,CACI,wBAAWK,KAAX,IAAqBC,MAAM,CAACE,IAA5B,EAAkCO,QAAQ,CAAET,MAAM,CAACE,IAAnD,GACJ,QACI,MAAOH,CAAAA,KAAP,CARR,CAUH,CAED;AACA,QAASW,CAAAA,IAAT,EAA4C,IAA9BX,CAAAA,KAA8B,2DAAtBH,YAAsB,IAARI,CAAAA,MAAQ,2CACxC,OAAQA,MAAM,CAACC,IAAf,EACI,IAAKlB,CAAAA,cAAL,CACI,wBAAWgB,KAAX,IAAqBC,MAAM,CAACE,IAA5B,EACJ,IAAKlB,CAAAA,cAAL,CACI,wBAAWe,KAAX,IAAqBC,MAAM,CAACE,IAA5B,EACJ,IAAKjB,CAAAA,gBAAL,CAAuB,UACnB,GAAM0B,CAAAA,OAAO,CAAGX,MAAM,CAACE,IAAvB,CACA,MAAO,CACHU,YAAY,CAAEb,KAAK,CAACa,YADjB,CAEHC,QAAQ,8BAAMd,KAAK,CAACc,QAAZ,GAAsBF,OAAtB,EAFL,CAAP,CAIJ,IAAKzB,CAAAA,iBAAL,CACI,wBAAWa,KAAX,IAAqBC,MAAM,CAACE,IAA5B,EACJ,QACI,MAAOH,CAAAA,KAAP,CAdR,CAgBH,CAED,cAAejB,CAAAA,eAAe,CAAC,CAC3BgB,IAAI,CAAJA,IAD2B,CACrBY,IAAI,CAAJA,IADqB,CACfH,MAAM,CAANA,MADe,CAAD,CAA9B","sourcesContent":["import {combineReducers} from 'redux'\nimport {\n    INIT_CHAT_INFO, INIT_MESS_LIST, RECEIVE_CHAT_MSG,\n    CHANGE_RIGHT_TYPE, INIT_FRIEND_INFO, AUTH_SUCCESS, ERR_MSG,\n    USERINFO, LOGOUT, MODIFY_USER_CONTACTS, GET_NEW_FRIENDS, GET_USER_MAILLIST\n} from './action-type'\nimport {initUser, initChatInfo, friendInfo} from './init'\n\n// 当前登录的用户信息\nfunction user(state = initUser, action) {\n    switch (action.type) {\n        case AUTH_SUCCESS:\n            return {...action.data, ...state, redirectTo: '/'}\n        case USERINFO:\n            const {userInfo, contacts} = action.data\n            return {...state, userInfo, contacts}\n        case LOGOUT:\n            return {...action.data, redirectTo: '/login'}\n        case ERR_MSG:\n            return {...state, msg: action.data, redirectTo: '/login'}\n        case MODIFY_USER_CONTACTS:\n            return {...state, contacts: action.data.contacts}\n        default:\n            return state\n    }\n}\n\n// 好友的用户基本信息\nfunction friend(state = friendInfo, action) {\n    switch (action.type) {\n        case INIT_FRIEND_INFO:\n            return {...state, ...action.data}\n        case GET_NEW_FRIENDS:\n            return {...state, newFriend: action.data}\n        case GET_USER_MAILLIST:\n            return {...state, ...action.data, mailList: action.data}\n        default:\n            return state\n    }\n}\n\n// 当前查看的消息列表\nfunction chat(state = initChatInfo, action) {\n    switch (action.type) {\n        case INIT_CHAT_INFO:\n            return {...state, ...action.data}\n        case INIT_MESS_LIST:\n            return {...state, ...action.data}\n        case RECEIVE_CHAT_MSG: /* 接收消息 */\n            const chatMsg = action.data\n            return {\n                chatUserInfo: state.chatUserInfo,\n                messList: [...state.messList, chatMsg],\n            }\n        case CHANGE_RIGHT_TYPE:\n            return {...state, ...action.data}\n        default:\n            return state\n    }\n}\n\nexport default combineReducers({\n    user, chat, friend\n})"]},"metadata":{},"sourceType":"module"}