{"ast":null,"code":"/**\r\n * 能发送ajax请求的函数模块\r\n * 函数的返回值是promise对象\r\n */\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nconst baseUrl = '';\nexport default function ajax(url, data = {}, type = 'POST') {\n  url = baseUrl + url;\n  data[\"token\"] = Cookies.get('token');\n\n  if (type === 'GET') {\n    let paramStr = '';\n    Object.keys(data).forEach(key => {\n      paramStr += `${key}=${data[key]}&`;\n    });\n\n    if (paramStr) {\n      paramStr = paramStr.substring(0, paramStr.length - 1);\n    }\n\n    return axios.get(url + '?' + paramStr);\n  } else {\n    try {\n      return axios.post(url, data);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n}","map":{"version":3,"sources":["/Users/mr.bo/项目/React/react-im/src/api/ajax.js"],"names":["axios","Cookies","baseUrl","ajax","url","data","type","get","paramStr","Object","keys","forEach","key","substring","length","post","e","console","log"],"mappings":"AAAA;;;;AAIA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,MAAMC,OAAO,GAAG,EAAhB;AACA,eAAe,SAASC,IAAT,CAAcC,GAAd,EAAmBC,IAAI,GAAE,EAAzB,EAA6BC,IAAI,GAAE,MAAnC,EAA2C;AACtDF,EAAAA,GAAG,GAAGF,OAAO,GAAGE,GAAhB;AACAC,EAAAA,IAAI,CAAC,OAAD,CAAJ,GAAgBJ,OAAO,CAACM,GAAR,CAAY,OAAZ,CAAhB;;AAEI,MAAGD,IAAI,KAAK,KAAZ,EAAmB;AACf,QAAIE,QAAQ,GAAG,EAAf;AACAC,IAAAA,MAAM,CAACC,IAAP,CAAYL,IAAZ,EAAkBM,OAAlB,CAA0BC,GAAG,IAAI;AAC7BJ,MAAAA,QAAQ,IAAK,GAAEI,GAAI,IAAGP,IAAI,CAACO,GAAD,CAAM,GAAhC;AACH,KAFD;;AAGA,QAAGJ,QAAH,EAAa;AACTA,MAAAA,QAAQ,GAAGA,QAAQ,CAACK,SAAT,CAAmB,CAAnB,EAAsBL,QAAQ,CAACM,MAAT,GAAkB,CAAxC,CAAX;AACH;;AACD,WAAOd,KAAK,CAACO,GAAN,CAAUH,GAAG,GAAG,GAAN,GAAYI,QAAtB,CAAP;AACH,GATD,MASO;AACH,QAAI;AAAC,aAAOR,KAAK,CAACe,IAAN,CAAWX,GAAX,EAAgBC,IAAhB,CAAP;AACJ,KADD,CACE,OAAOW,CAAP,EAAU;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH;AAEJ;AAER","sourcesContent":["/**\r\n * 能发送ajax请求的函数模块\r\n * 函数的返回值是promise对象\r\n */\r\nimport axios from 'axios'\r\nimport Cookies from 'js-cookie'\r\n\r\nconst baseUrl = ''\r\nexport default function ajax(url, data= {}, type= 'POST') {\r\n    url = baseUrl + url\r\n    data[\"token\"] = Cookies.get('token')\r\n\r\n        if(type === 'GET') {\r\n            let paramStr = ''\r\n            Object.keys(data).forEach(key => {\r\n                paramStr += `${key}=${data[key]}&`\r\n            })\r\n            if(paramStr) {\r\n                paramStr = paramStr.substring(0, paramStr.length - 1)\r\n            }\r\n            return axios.get(url + '?' + paramStr)\r\n        } else {\r\n            try {return axios.post(url, data)\r\n            } catch (e) {\r\n                console.log(e)\r\n            }\r\n\r\n        }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}