{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/avatar/style\";\nimport _Avatar from \"antd/lib/avatar\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/upload/style\";\nimport _Upload from \"antd/lib/upload\";\nimport \"antd/lib/icon/style\";\nimport _Icon from \"antd/lib/icon\";\nvar _jsxFileName = \"/Users/mr.bo/\\u9879\\u76EE/React/react-im/src/components/commom/user-info/index.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { logout } from '../../../redux/actions';\nimport './user-info.less';\n\nclass UserInfo extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      visible: false\n    };\n\n    this.createModal = () => {\n      return React.createElement(_Modal, {\n        visible: this.state.visible,\n        title: \"\\u66F4\\u6539\\u5934\\u50CF\",\n        onOk: this.changeModalStatus(false),\n        onCancel: this.changeModalStatus(false),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(_Upload.Dragger, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"ant-upload-drag-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(_Icon, {\n        type: \"inbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        className: \"ant-upload-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Click or drag file to this area to upload\"), React.createElement(\"p\", {\n        className: \"ant-upload-hint\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files\")));\n    };\n\n    this.changeModalStatus = visible => {\n      this.setState();\n    };\n\n    this.logout = () => {\n      const self = this;\n\n      _Modal.confirm({\n        title: '确定退出当前帐号吗？退出后无法接收在线消息哦！',\n        content: '聊天记录不受影响，再次上线会自动推送离线消息',\n        cancelText: '取消',\n        okText: '确定',\n\n        onOk() {\n          _message.loading('正在为您退出，请稍候...', 0);\n\n          setTimeout(() => self.props.logout(), 1000);\n        }\n\n      });\n    };\n\n    this.getItemList = () => {\n      const {\n        user: {\n          userInfo\n        }\n      } = this.props;\n      const itemList = [{\n        itemName: \"地区\",\n        itemValue: userInfo.area\n      }, {\n        itemName: \"昵称\",\n        itemValue: userInfo.nickname\n      }, {\n        itemName: \"手机号\",\n        itemValue: userInfo.phone\n      }, {\n        itemName: \"个性签名\",\n        itemValue: userInfo.autograph || '暂无'\n      }];\n      return itemList.map((item, index) => React.createElement(_Row, {\n        className: \"user-item border-b\",\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(_Col, {\n        span: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, item.itemName), React.createElement(_Col, {\n        span: 20,\n        style: {\n          textAlign: \"right\",\n          textIndent: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, item.itemValue)));\n    };\n  }\n\n  render() {\n    const {\n      userInfo\n    } = this.props.user;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"basic-info border-b\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    }, React.createElement(_Avatar, {\n      size: 60,\n      shape: \"square\",\n      src: userInfo.avatar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"edit-avatar\",\n      onClick: this.changeModalStatus(true),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, React.createElement(_Icon, {\n      type: \"cloud-upload\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    })), this.createModal()), React.createElement(\"div\", {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"user-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, userInfo.nickname), React.createElement(\"div\", {\n      className: \"user-desc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, \"\\u624B\\u673A\\u53F7\\uFF1A183***8888\")), React.createElement(\"div\", {\n      className: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    })), this.getItemList(), React.createElement(\"div\", {\n      className: \"btn-operation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      type: \"danger\",\n      block: true,\n      onClick: () => this.logout(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, \"\\u9000\\u51FA\\u767B\\u5F55\"), React.createElement(_Button, {\n      block: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, \"\\u6CE8\\u9500\\u8D26\\u53F7\")));\n  }\n\n}\n\nexport default connect(state => ({\n  user: state.user\n}), {\n  logout\n})(withRouter(UserInfo));","map":{"version":3,"sources":["/Users/mr.bo/项目/React/react-im/src/components/commom/user-info/index.jsx"],"names":["React","Component","connect","withRouter","logout","UserInfo","state","visible","createModal","changeModalStatus","setState","self","confirm","title","content","cancelText","okText","onOk","loading","setTimeout","props","getItemList","user","userInfo","itemList","itemName","itemValue","area","nickname","phone","autograph","map","item","index","textAlign","textIndent","render","avatar"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport {connect} from 'react-redux'\nimport {withRouter} from 'react-router-dom'\nimport {Avatar, Row, Col, Button, Modal, message as AM, Icon, Upload} from 'antd'\nimport {logout} from '../../../redux/actions'\n\nimport './user-info.less'\n\nclass UserInfo extends Component {\n\n    state = {visible: false}\n\n    render() {\n        const {userInfo} = this.props.user\n        return (\n            <div>\n                <div className=\"basic-info border-b\">\n                    <div className=\"left\">\n                        <Avatar size={60} shape=\"square\" src={userInfo.avatar} />\n                        <div className=\"edit-avatar\" onClick={this.changeModalStatus(true)}><Icon type=\"cloud-upload\" /></div>\n                        {this.createModal()}\n                    </div>\n                    <div className=\"right\">\n                        <div className=\"user-name\">{userInfo.nickname}</div>\n                        <div className=\"user-desc\">手机号：183***8888</div>\n                    </div>\n                    <div className=\"clearfix\"/>\n                </div>\n                {this.getItemList()}\n                <div className=\"btn-operation\">\n                    <Button type=\"danger\" block={true} onClick={() => this.logout()}>退出登录</Button>\n                    <Button block={true}>注销账号</Button>\n                </div>\n            </div>\n        )\n    }\n\n    createModal = () => {\n        return <Modal\n            visible={this.state.visible}\n            title=\"更改头像\"\n            onOk={this.changeModalStatus(false)}\n            onCancel={this.changeModalStatus(false)}\n        >\n            <Upload.Dragger>\n                <p className=\"ant-upload-drag-icon\">\n                    <Icon type=\"inbox\" />\n                </p>\n                <p className=\"ant-upload-text\">Click or drag file to this area to upload</p>\n                <p className=\"ant-upload-hint\">\n                    Support for a single or bulk upload. Strictly prohibit from uploading company data or other\n                    band files\n                </p>\n            </Upload.Dragger>\n        </Modal>\n    }\n\n    changeModalStatus = visible => {\n        this.setState()\n    }\n\n    logout = () => {\n        const self = this\n        Modal.confirm({\n            title: '确定退出当前帐号吗？退出后无法接收在线消息哦！',\n            content: '聊天记录不受影响，再次上线会自动推送离线消息',\n            cancelText: '取消',\n            okText: '确定',\n            onOk() {\n                AM.loading('正在为您退出，请稍候...', 0);\n                setTimeout(() => self.props.logout(), 1000)\n            },\n        });\n    }\n\n    getItemList = () => {\n        const {user: {userInfo}} = this.props\n        const itemList = [\n            {itemName: \"地区\", itemValue: userInfo.area},\n            {itemName: \"昵称\", itemValue: userInfo.nickname},\n            {itemName: \"手机号\", itemValue: userInfo.phone},\n            {itemName: \"个性签名\", itemValue: userInfo.autograph || '暂无'},\n        ]\n        return itemList.map((item, index) => (\n            <Row className=\"user-item border-b\" key={index}>\n                <Col span={4}>{item.itemName}</Col>\n                <Col span={20} style={{textAlign: \"right\", textIndent: 10}}>{item.itemValue}</Col>\n            </Row>\n        ))\n    }\n}\n\nexport default connect(\n    state => ({user: state.user}), {logout}\n)(withRouter(UserInfo))"]},"metadata":{},"sourceType":"module"}