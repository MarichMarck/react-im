{"ast":null,"code":"/**\r\n * 能发送ajax请求的函数模块\r\n * 函数的返回值是promise对象\r\n */import axios from'axios';import Cookies from'js-cookie';var baseUrl='';export default function ajax(url){var data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var type=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'POST';url=baseUrl+url;data[\"token\"]=Cookies.get('token');if(type==='GET'){var paramStr='';Object.keys(data).forEach(function(key){paramStr+=\"\".concat(key,\"=\").concat(data[key],\"&\");});if(paramStr){paramStr=paramStr.substring(0,paramStr.length-1);}return axios.get(url+'?'+paramStr);}else{return axios.post(url,data);}}","map":{"version":3,"sources":["/Users/mr.bo/项目/React/react-im/src/api/ajax.js"],"names":["axios","Cookies","baseUrl","ajax","url","data","type","get","paramStr","Object","keys","forEach","key","substring","length","post"],"mappings":"AAAA;;;GAIA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CAEA,GAAMC,CAAAA,OAAO,CAAG,EAAhB,CACA,cAAe,SAASC,CAAAA,IAAT,CAAcC,GAAd,CAA6C,IAA1BC,CAAAA,IAA0B,2DAAnB,EAAmB,IAAfC,CAAAA,IAAe,2DAAR,MAAQ,CACxDF,GAAG,CAAGF,OAAO,CAAGE,GAAhB,CACAC,IAAI,CAAC,OAAD,CAAJ,CAAgBJ,OAAO,CAACM,GAAR,CAAY,OAAZ,CAAhB,CACA,GAAID,IAAI,GAAK,KAAb,CAAoB,CAChB,GAAIE,CAAAA,QAAQ,CAAG,EAAf,CACAC,MAAM,CAACC,IAAP,CAAYL,IAAZ,EAAkBM,OAAlB,CAA0B,SAAAC,GAAG,CAAI,CAC7BJ,QAAQ,YAAOI,GAAP,aAAcP,IAAI,CAACO,GAAD,CAAlB,KAAR,CACH,CAFD,EAGA,GAAIJ,QAAJ,CAAc,CACVA,QAAQ,CAAGA,QAAQ,CAACK,SAAT,CAAmB,CAAnB,CAAsBL,QAAQ,CAACM,MAAT,CAAkB,CAAxC,CAAX,CACH,CACD,MAAOd,CAAAA,KAAK,CAACO,GAAN,CAAUH,GAAG,CAAG,GAAN,CAAYI,QAAtB,CAAP,CACH,CATD,IASO,CACH,MAAOR,CAAAA,KAAK,CAACe,IAAN,CAAWX,GAAX,CAAgBC,IAAhB,CAAP,CACH,CACJ","sourcesContent":["/**\r\n * 能发送ajax请求的函数模块\r\n * 函数的返回值是promise对象\r\n */\r\nimport axios from 'axios'\r\nimport Cookies from 'js-cookie'\r\n\r\nconst baseUrl = ''\r\nexport default function ajax(url, data = {}, type = 'POST') {\r\n    url = baseUrl + url\r\n    data[\"token\"] = Cookies.get('token')\r\n    if (type === 'GET') {\r\n        let paramStr = ''\r\n        Object.keys(data).forEach(key => {\r\n            paramStr += `${key}=${data[key]}&`\r\n        })\r\n        if (paramStr) {\r\n            paramStr = paramStr.substring(0, paramStr.length - 1)\r\n        }\r\n        return axios.get(url + '?' + paramStr)\r\n    } else {\r\n        return axios.post(url, data)\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}