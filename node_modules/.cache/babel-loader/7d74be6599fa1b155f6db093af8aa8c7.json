{"ast":null,"code":"/**\n * 对应 reducers 中的 action 同步/异步请求\n */\nimport { INIT_CHAT_INFO, RECEIVE_CHAT_MSG, CHANGE_RIGHT_TYPE, INIT_FRIEND_INFO } from './action-type';\n\nconst initChatData = chat => ({\n  type: INIT_CHAT_INFO,\n  data: chat\n});\n\nconst receiveChatMsg = chat => ({\n  type: RECEIVE_CHAT_MSG,\n  data: chat\n});\n\nconst showRightType = chat => ({\n  type: CHANGE_RIGHT_TYPE,\n  data: chat\n});\n\nconst showFriendInfo = friend => ({\n  type: INIT_FRIEND_INFO,\n  data: friend\n}); // 初始化消息列表\n\n\nexport const initChatInfo = chatUserInfo => {\n  return dispatch => {\n    let messList = chatUserInfo.uid === 1 ? [{\n      id: 1,\n      avatar: \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1582778785114&di=4bf0a9cbe00cd200465af9fe46b3091e&imgtype=0&src=http%3A%2F%2Fwww.56ec.org.cn%2Fd%2Ffile%2Fnews%2Frwgd%2F2017-05-15%2Fa26c40ec7d83c66d78ad6f791952a01b.jpg\",\n      message: \"下个月花呗不用还了，我还要另外支付你一个亿随便你花\",\n      position: \"left\"\n    }, {\n      id: 2,\n      avatar: \"http://t8.baidu.com/it/u=3571592872,3353494284&fm=79&app=86&size=h300&n=0&g=4n&f=jpeg?sec=1583315718&t=9caf2bcbcf5ea34c543c426750bb1134\",\n      message: \"感谢马云大大，祝你生意越来越好祝你生意越来越好\",\n      position: \"right\"\n    }, {\n      id: 3,\n      avatar: \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1582778785114&di=4bf0a9cbe00cd200465af9fe46b3091e&imgtype=0&src=http%3A%2F%2Fwww.56ec.org.cn%2Fd%2Ffile%2Fnews%2Frwgd%2F2017-05-15%2Fa26c40ec7d83c66d78ad6f791952a01b.jpg\",\n      message: \"下个月花呗不用还了，我还要另外支付你一个亿随便你花\",\n      position: \"left\"\n    }, {\n      id: 4,\n      avatar: \"http://t8.baidu.com/it/u=3571592872,3353494284&fm=79&app=86&size=h300&n=0&g=4n&f=jpeg?sec=1583315718&t=9caf2bcbcf5ea34c543c426750bb1134\",\n      message: \"感谢马云大大，祝你生意越来越好祝你生意越来越好\",\n      position: \"right\"\n    }] : [];\n    setTimeout(() => {\n      dispatch(initChatData({\n        loading: false\n      }));\n    }, 1000);\n    dispatch(initChatData({\n      chatUserInfo,\n      messList,\n      loading: true,\n      showRightType: 'message'\n    }));\n  };\n}; // 切换右侧显示状态\n\nexport const changeRightType = type => {\n  return dispatch => {\n    dispatch(showRightType({\n      showRightType: type\n    }));\n  };\n}; // 发送消息\n\nexport const sendChatMsg = chat => {\n  return dispatch => {\n    dispatch(receiveChatMsg(chat));\n  };\n}; // 获取好友基本信息\n\nexport const getFriendInfo = friend_uid => {\n  return dispatch => {\n    /* 获取好友用户信息 */\n    dispatch(changeRightType('userInfo'));\n    dispatch(showFriendInfo(friend_uid));\n  };\n};","map":{"version":3,"sources":["/Users/mr.bo/项目/React/react-im/src/redux/actions.js"],"names":["INIT_CHAT_INFO","RECEIVE_CHAT_MSG","CHANGE_RIGHT_TYPE","INIT_FRIEND_INFO","initChatData","chat","type","data","receiveChatMsg","showRightType","showFriendInfo","friend","initChatInfo","chatUserInfo","dispatch","messList","uid","id","avatar","message","position","setTimeout","loading","changeRightType","sendChatMsg","getFriendInfo","friend_uid"],"mappings":"AAAA;;;AAGA,SACIA,cADJ,EACoBC,gBADpB,EAEIC,iBAFJ,EAEuBC,gBAFvB,QAGO,eAHP;;AAKA,MAAMC,YAAY,GAAKC,IAAI,KAAK;AAAEC,EAAAA,IAAI,EAAEN,cAAR;AAAwBO,EAAAA,IAAI,EAAEF;AAA9B,CAAL,CAA3B;;AACA,MAAMG,cAAc,GAAGH,IAAI,KAAK;AAAEC,EAAAA,IAAI,EAAEL,gBAAR;AAA0BM,EAAAA,IAAI,EAAEF;AAAhC,CAAL,CAA3B;;AACA,MAAMI,aAAa,GAAIJ,IAAI,KAAK;AAAEC,EAAAA,IAAI,EAAEJ,iBAAR;AAA2BK,EAAAA,IAAI,EAAEF;AAAjC,CAAL,CAA3B;;AACA,MAAMK,cAAc,GAAGC,MAAM,KAAK;AAAEL,EAAAA,IAAI,EAAEH,gBAAR;AAA0BI,EAAAA,IAAI,EAAEI;AAAhC,CAAL,CAA7B,C,CAEA;;;AACA,OAAO,MAAMC,YAAY,GAAGC,YAAY,IAAI;AACxC,SAAOC,QAAQ,IAAI;AACf,QAAIC,QAAQ,GAAGF,YAAY,CAACG,GAAb,KAAqB,CAArB,GAAyB,CACpC;AAACC,MAAAA,EAAE,EAAE,CAAL;AAAQC,MAAAA,MAAM,EAAE,+OAAhB;AAAiQC,MAAAA,OAAO,EAAE,2BAA1Q;AAAuSC,MAAAA,QAAQ,EAAE;AAAjT,KADoC,EAEpC;AAACH,MAAAA,EAAE,EAAE,CAAL;AAAQC,MAAAA,MAAM,EAAE,yIAAhB;AAA2JC,MAAAA,OAAO,EAAE,yBAApK;AAA+LC,MAAAA,QAAQ,EAAE;AAAzM,KAFoC,EAGpC;AAACH,MAAAA,EAAE,EAAE,CAAL;AAAQC,MAAAA,MAAM,EAAE,+OAAhB;AAAiQC,MAAAA,OAAO,EAAE,2BAA1Q;AAAuSC,MAAAA,QAAQ,EAAE;AAAjT,KAHoC,EAIpC;AAACH,MAAAA,EAAE,EAAE,CAAL;AAAQC,MAAAA,MAAM,EAAE,yIAAhB;AAA2JC,MAAAA,OAAO,EAAE,yBAApK;AAA+LC,MAAAA,QAAQ,EAAE;AAAzM,KAJoC,CAAzB,GAKX,EALJ;AAMAC,IAAAA,UAAU,CAAC,MAAM;AAAEP,MAAAA,QAAQ,CAACV,YAAY,CAAC;AAAEkB,QAAAA,OAAO,EAAE;AAAX,OAAD,CAAb,CAAR;AAA4C,KAArD,EAAuD,IAAvD,CAAV;AACAR,IAAAA,QAAQ,CAACV,YAAY,CAAC;AAAES,MAAAA,YAAF;AAAgBE,MAAAA,QAAhB;AAA0BO,MAAAA,OAAO,EAAE,IAAnC;AAAyCb,MAAAA,aAAa,EAAE;AAAxD,KAAD,CAAb,CAAR;AACH,GATD;AAUH,CAXM,C,CAaP;;AACA,OAAO,MAAMc,eAAe,GAAGjB,IAAI,IAAI;AACnC,SAAOQ,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACL,aAAa,CAAC;AAAEA,MAAAA,aAAa,EAAEH;AAAjB,KAAD,CAAd,CAAR;AACH,GAFD;AAGH,CAJM,C,CAMP;;AACA,OAAO,MAAMkB,WAAW,GAAGnB,IAAI,IAAI;AAC/B,SAAOS,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACN,cAAc,CAACH,IAAD,CAAf,CAAR;AACH,GAFD;AAGH,CAJM,C,CAMP;;AACA,OAAO,MAAMoB,aAAa,GAAGC,UAAU,IAAI;AACvC,SAAOZ,QAAQ,IAAI;AACf;AACAA,IAAAA,QAAQ,CAACS,eAAe,CAAC,UAAD,CAAhB,CAAR;AACAT,IAAAA,QAAQ,CAACJ,cAAc,CAACgB,UAAD,CAAf,CAAR;AACH,GAJD;AAKH,CANM","sourcesContent":["/**\n * 对应 reducers 中的 action 同步/异步请求\n */\nimport {\n    INIT_CHAT_INFO, RECEIVE_CHAT_MSG,\n    CHANGE_RIGHT_TYPE, INIT_FRIEND_INFO\n} from './action-type'\n\nconst initChatData   = chat => ({ type: INIT_CHAT_INFO, data: chat })\nconst receiveChatMsg = chat => ({ type: RECEIVE_CHAT_MSG, data: chat })\nconst showRightType  = chat => ({ type: CHANGE_RIGHT_TYPE, data: chat })\nconst showFriendInfo = friend => ({ type: INIT_FRIEND_INFO, data: friend })\n\n// 初始化消息列表\nexport const initChatInfo = chatUserInfo => {\n    return dispatch => {\n        let messList = chatUserInfo.uid === 1 ? [\n            {id: 1, avatar: \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1582778785114&di=4bf0a9cbe00cd200465af9fe46b3091e&imgtype=0&src=http%3A%2F%2Fwww.56ec.org.cn%2Fd%2Ffile%2Fnews%2Frwgd%2F2017-05-15%2Fa26c40ec7d83c66d78ad6f791952a01b.jpg\", message: \"下个月花呗不用还了，我还要另外支付你一个亿随便你花\", position: \"left\"},\n            {id: 2, avatar: \"http://t8.baidu.com/it/u=3571592872,3353494284&fm=79&app=86&size=h300&n=0&g=4n&f=jpeg?sec=1583315718&t=9caf2bcbcf5ea34c543c426750bb1134\", message: \"感谢马云大大，祝你生意越来越好祝你生意越来越好\", position: \"right\"},\n            {id: 3, avatar: \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1582778785114&di=4bf0a9cbe00cd200465af9fe46b3091e&imgtype=0&src=http%3A%2F%2Fwww.56ec.org.cn%2Fd%2Ffile%2Fnews%2Frwgd%2F2017-05-15%2Fa26c40ec7d83c66d78ad6f791952a01b.jpg\", message: \"下个月花呗不用还了，我还要另外支付你一个亿随便你花\", position: \"left\"},\n            {id: 4, avatar: \"http://t8.baidu.com/it/u=3571592872,3353494284&fm=79&app=86&size=h300&n=0&g=4n&f=jpeg?sec=1583315718&t=9caf2bcbcf5ea34c543c426750bb1134\", message: \"感谢马云大大，祝你生意越来越好祝你生意越来越好\", position: \"right\"},\n        ] : []\n        setTimeout(() => { dispatch(initChatData({ loading: false })) }, 1000)\n        dispatch(initChatData({ chatUserInfo, messList, loading: true, showRightType: 'message' }))\n    }\n}\n\n// 切换右侧显示状态\nexport const changeRightType = type => {\n    return dispatch => {\n        dispatch(showRightType({ showRightType: type }))\n    }\n}\n\n// 发送消息\nexport const sendChatMsg = chat => {\n    return dispatch => {\n        dispatch(receiveChatMsg(chat))\n    }\n}\n\n// 获取好友基本信息\nexport const getFriendInfo = friend_uid => {\n    return dispatch => {\n        /* 获取好友用户信息 */\n        dispatch(changeRightType('userInfo'))\n        dispatch(showFriendInfo(friend_uid))\n    }\n}"]},"metadata":{},"sourceType":"module"}