{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/avatar/style\";\nimport _Avatar from \"antd/lib/avatar\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nvar _jsxFileName = \"/Users/mr.bo/\\u9879\\u76EE/React/react-im/src/containers/maillist/friend/profile.jsx\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { initChatInfo, modifyContacts } from '../../../redux/actions';\n\nclass Profile extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.sendMsg = () => {\n      let {\n        friend: {\n          info\n        },\n        user: {\n          contacts\n        }\n      } = this.props;\n\n      if (contacts) {\n        const index = contacts.findIndex(user => user.id === info.user_id);\n\n        if (index < 0) {\n          info.id = info.user_id;\n          info.contacts.push(info);\n          this.props.modifyContacts(contacts);\n        }\n      }\n\n      this.props.initChatInfo(info);\n    };\n\n    this.getItemList = () => {\n      const {\n        friend: {\n          info\n        }\n      } = this.props;\n      const itemList = [{\n        itemName: \"地区\",\n        itemValue: \"江苏 淮安\"\n      }, {\n        itemName: \"备注\",\n        itemValue: info.nick_remark || info.nickname\n      }, {\n        itemName: \"昵称\",\n        itemValue: info.nickname\n      }, {\n        itemName: \"手机号\",\n        itemValue: info.phone\n      }, {\n        itemName: \"个性签名\",\n        itemValue: info.autograph || '暂无'\n      }];\n      return itemList.map(item => React.createElement(_Row, {\n        className: \"user-item border-b\",\n        key: item.itemName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(_Col, {\n        span: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, item.itemName), React.createElement(_Col, {\n        span: 20,\n        style: {\n          textAlign: \"right\",\n          textIndent: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, item.itemValue)));\n    };\n  }\n\n  render() {\n    const {\n      friend: {\n        info\n      }\n    } = this.props;\n    if (!info) return null;\n    return React.createElement(\"div\", {\n      className: \"m-user-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"user-info-main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"basic-info border-b\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17\n      },\n      __self: this\n    }, React.createElement(_Avatar, {\n      size: 60,\n      shape: \"square\",\n      src: info.avatar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"user-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }, info.nick_remark || info.nickname), React.createElement(\"div\", {\n      className: \"user-desc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    }, \"\\u6635\\u79F0\\uFF1A\", info.nickname)), React.createElement(\"div\", {\n      className: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    })), this.getItemList(), React.createElement(\"div\", {\n      className: \"btn-operation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      type: \"primary\",\n      block: true,\n      onClick: this.sendMsg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, \"\\u53D1\\u9001\\u6D88\\u606F\"), React.createElement(_Button, {\n      type: \"danger\",\n      block: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, \"\\u79FB\\u9664\\u597D\\u53CB\"))));\n  }\n\n}\n\nexport default connect(state => ({\n  friend: state.friend,\n  chat: state.chat,\n  user: state.user\n}), {\n  initChatInfo,\n  modifyContacts\n})(withRouter(Profile));","map":{"version":3,"sources":["/Users/mr.bo/项目/React/react-im/src/containers/maillist/friend/profile.jsx"],"names":["React","Component","withRouter","connect","initChatInfo","modifyContacts","Profile","sendMsg","friend","info","user","contacts","props","index","findIndex","id","user_id","push","getItemList","itemList","itemName","itemValue","nick_remark","nickname","phone","autograph","map","item","textAlign","textIndent","render","avatar","state","chat"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport {withRouter} from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport {Avatar, Button, Row, Col} from 'antd'\n\nimport {initChatInfo, modifyContacts} from '../../../redux/actions'\n\nclass Profile extends Component {\n\n    render() {\n        const {friend: {info}} = this.props\n        if (!info) return null\n        return (\n            <div className=\"m-user-info\">\n                <div className=\"user-info-main\">\n                    <div className=\"basic-info border-b\">\n                        <div className=\"left\">\n                            <Avatar size={60} shape=\"square\" src={info.avatar}/>\n                        </div>\n                        <div className=\"right\">\n                            <div className=\"user-name\">{info.nick_remark || info.nickname}</div>\n                            <div className=\"user-desc\">昵称：{info.nickname}</div>\n                        </div>\n                        <div className=\"clearfix\"/>\n                    </div>\n                    {this.getItemList()}\n                    <div className=\"btn-operation\">\n                        <Button type=\"primary\" block={true} onClick={this.sendMsg}>发送消息</Button>\n                        <Button type=\"danger\" block={true}>移除好友</Button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    sendMsg = () => {\n        let {friend: {info}, user: {contacts}} = this.props\n        if(contacts) {\n            const index = contacts.findIndex(user => user.id === info.user_id)\n            if(index < 0) {\n                info.id = info.user_id;\n                info.\n                contacts.push(info)\n                this.props.modifyContacts(contacts)\n            }\n        }\n        this.props.initChatInfo(info)\n    }\n\n    getItemList = () => {\n        const {friend: {info }} = this.props\n        const itemList = [\n            {itemName: \"地区\", itemValue: \"江苏 淮安\"},\n            {itemName: \"备注\", itemValue: info.nick_remark || info.nickname},\n            {itemName: \"昵称\", itemValue: info.nickname},\n            {itemName: \"手机号\", itemValue: info.phone},\n            {itemName: \"个性签名\", itemValue: info.autograph || '暂无'},\n        ]\n        return itemList.map(item => (\n            <Row className=\"user-item border-b\" key={item.itemName}>\n                <Col span={4}>{item.itemName}</Col>\n                <Col span={20} style={{textAlign: \"right\", textIndent: 10}}>{item.itemValue}</Col>\n            </Row>\n        ))\n    }\n}\n\nexport default connect(\n    state => ({friend: state.friend, chat: state.chat, user: state.user}), {initChatInfo, modifyContacts}\n)(withRouter(Profile))"]},"metadata":{},"sourceType":"module"}