{"ast":null,"code":"import\"antd/lib/button/style\";import _Button from\"antd/lib/button\";import\"antd/lib/avatar/style\";import _Avatar from\"antd/lib/avatar\";import\"antd/lib/row/style\";import _Row from\"antd/lib/row\";import\"antd/lib/col/style\";import _Col from\"antd/lib/col\";import _classCallCheck from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im\\u7684\\u526F\\u672C/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im\\u7684\\u526F\\u672C/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im\\u7684\\u526F\\u672C/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im\\u7684\\u526F\\u672C/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im\\u7684\\u526F\\u672C/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{withRouter}from'react-router-dom';import{connect}from'react-redux';import{initChatInfo,modifyContacts}from'../../../redux/actions';var Profile=/*#__PURE__*/function(_Component){_inherits(Profile,_Component);function Profile(){var _getPrototypeOf2;var _this;_classCallCheck(this,Profile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Profile)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.openMessage=function(){var _this$props=_this.props,info=_this$props.friend.info,contacts=_this$props.user.contacts;if(contacts){var index=contacts.findIndex(function(user){return user.id===info.id;});if(index<0){info.time=\"刚刚\";info.last_mess=\"[快发送第一条消息吧]\";contacts.unshift(info);_this.props.modifyContacts(contacts);}}_this.props.initChatInfo(info);_this.props.history.push({pathname:'/'});};_this.getItemList=function(){var info=_this.props.friend.info;var itemList=[{itemName:\"地区\",itemValue:info.area||\"江苏 淮安\"},{itemName:\"备注\",itemValue:info.nick_remark||info.nickname},{itemName:\"昵称\",itemValue:info.nickname},{itemName:\"手机号\",itemValue:info.phone},{itemName:\"个性签名\",itemValue:info.autograph||'暂无'}];return itemList.map(function(item){return React.createElement(_Row,{className:\"user-item border-b\",key:item.itemName},React.createElement(_Col,{span:4},item.itemName),React.createElement(_Col,{span:20,style:{textAlign:\"right\",textIndent:10}},item.itemValue));});};return _this;}_createClass(Profile,[{key:\"render\",value:function render(){var info=this.props.friend.info;if(!info)return null;return React.createElement(\"div\",{className:\"m-user-info\"},React.createElement(\"div\",{className:\"user-info-main\"},React.createElement(\"div\",{className:\"basic-info border-b\"},React.createElement(\"div\",{className:\"left\"},React.createElement(_Avatar,{size:60,shape:\"square\",src:info.avatar})),React.createElement(\"div\",{className:\"right\"},React.createElement(\"div\",{className:\"user-name\"},info.nick_remark||info.nickname),React.createElement(\"div\",{className:\"user-desc\"},\"\\u6635\\u79F0\\uFF1A\",info.nickname)),React.createElement(\"div\",{className:\"clearfix\"})),this.getItemList(),React.createElement(\"div\",{className:\"btn-operation\"},React.createElement(_Button,{type:\"primary\",block:true,onClick:this.openMessage},\"\\u53D1\\u9001\\u6D88\\u606F\"),React.createElement(_Button,{type:\"danger\",block:true},\"\\u79FB\\u9664\\u597D\\u53CB\"))));}}]);return Profile;}(Component);export default connect(function(state){return{friend:state.friend,chat:state.chat,user:state.user};},{initChatInfo:initChatInfo,modifyContacts:modifyContacts})(withRouter(Profile));","map":{"version":3,"sources":["/Users/mr.bo/项目/React/react-im的副本/src/containers/maillist/friend/profile.jsx"],"names":["React","Component","withRouter","connect","initChatInfo","modifyContacts","Profile","openMessage","props","info","friend","contacts","user","index","findIndex","id","time","last_mess","unshift","history","push","pathname","getItemList","itemList","itemName","itemValue","area","nick_remark","nickname","phone","autograph","map","item","textAlign","textIndent","avatar","state","chat"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport {withRouter} from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport {Avatar, Button, Row, Col} from 'antd'\n\nimport {initChatInfo, modifyContacts} from '../../../redux/actions'\n\nclass Profile extends Component {\n\n    render() {\n        const {friend: {info}} = this.props\n        if (!info) return null\n        return <div className=\"m-user-info\">\n            <div className=\"user-info-main\">\n                <div className=\"basic-info border-b\">\n                    <div className=\"left\">\n                        <Avatar size={60} shape=\"square\" src={info.avatar}/>\n                    </div>\n                    <div className=\"right\">\n                        <div className=\"user-name\">{info.nick_remark || info.nickname}</div>\n                        <div className=\"user-desc\">昵称：{info.nickname}</div>\n                    </div>\n                    <div className=\"clearfix\"/>\n                </div>\n                {this.getItemList()}\n                <div className=\"btn-operation\">\n                    <Button type=\"primary\" block={true} onClick={this.openMessage}>发送消息</Button>\n                    <Button type=\"danger\" block={true}>移除好友</Button>\n                </div>\n            </div>\n        </div>\n    }\n\n    openMessage = () => {\n        let {friend: {info}, user: {contacts}} = this.props\n        if(contacts) {\n            const index = contacts.findIndex(user => user.id === info.id)\n            if(index < 0) {\n                info.time = \"刚刚\";  info.last_mess = \"[快发送第一条消息吧]\"; contacts.unshift(info)\n                this.props.modifyContacts(contacts)\n            }\n        }\n        this.props.initChatInfo(info)\n        this.props.history.push({pathname: '/'})\n    }\n\n    getItemList = () => {\n        const {friend: {info }} = this.props\n        const itemList = [\n            {itemName: \"地区\", itemValue: info.area || \"江苏 淮安\"},\n            {itemName: \"备注\", itemValue: info.nick_remark || info.nickname},\n            {itemName: \"昵称\", itemValue: info.nickname},\n            {itemName: \"手机号\", itemValue: info.phone},\n            {itemName: \"个性签名\", itemValue: info.autograph || '暂无'},\n        ]\n        return itemList.map(item => (\n            <Row className=\"user-item border-b\" key={item.itemName}>\n                <Col span={4}>{item.itemName}</Col>\n                <Col span={20} style={{textAlign: \"right\", textIndent: 10}}>{item.itemValue}</Col>\n            </Row>\n        ))\n    }\n}\n\nexport default connect(\n    state => ({friend: state.friend, chat: state.chat, user: state.user}), {initChatInfo, modifyContacts}\n)(withRouter(Profile))"]},"metadata":{},"sourceType":"module"}