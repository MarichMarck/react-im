{"ast":null,"code":"import\"antd/lib/button/style\";import _Button from\"antd/lib/button\";import\"antd/lib/avatar/style\";import _Avatar from\"antd/lib/avatar\";import\"antd/lib/message/style\";import _message from\"antd/lib/message\";import\"antd/lib/row/style\";import _Row from\"antd/lib/row\";import\"antd/lib/col/style\";import _Col from\"antd/lib/col\";import\"antd/lib/modal/style\";import _Modal from\"antd/lib/modal\";import\"antd/lib/upload/style\";import _Upload from\"antd/lib/upload\";import\"antd/lib/icon/style\";import _Icon from\"antd/lib/icon\";import _classCallCheck from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im\\u7684\\u526F\\u672C/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im\\u7684\\u526F\\u672C/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im\\u7684\\u526F\\u672C/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im\\u7684\\u526F\\u672C/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im\\u7684\\u526F\\u672C/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im\\u7684\\u526F\\u672C/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{connect}from'react-redux';import{withRouter}from'react-router-dom';import{logout}from'../../../redux/actions';import'./user-info.less';var UserInfo=/*#__PURE__*/function(_Component){_inherits(UserInfo,_Component);function UserInfo(){var _getPrototypeOf2;var _this;_classCallCheck(this,UserInfo);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(UserInfo)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={visible:false};_this.createModal=function(){var visible=_this.state.visible;return React.createElement(_Modal,{visible:visible,title:\"\\u4E0A\\u4F20\\u5934\\u50CF\",onCancel:function onCancel(){return _this.changeModalStatus(false);},footer:false},React.createElement(_Upload.Dragger,{name:\"file\",multiple:false},React.createElement(\"p\",{className:\"ant-upload-drag-icon\"},React.createElement(_Icon,{type:\"cloud-upload\"})),React.createElement(\"p\",{className:\"ant-upload-text\"},\"\\u70B9\\u51FB\\u8FD9\\u91CC\\u4E0A\\u4F20\\u5934\\u50CF\")));};_this.changeModalStatus=function(visible){_this.setState({visible:visible});};_this.getItemList=function(){var userInfo=_this.props.user.userInfo;var itemList=[{itemName:\"地区\",itemValue:userInfo.area},{itemName:\"昵称\",itemValue:userInfo.nickname},{itemName:\"手机号\",itemValue:userInfo.phone},{itemName:\"个性签名\",itemValue:userInfo.autograph||'暂无'}];return itemList.map(function(item,index){return React.createElement(_Row,{className:\"user-item border-b\",key:index},React.createElement(_Col,{span:4},item.itemName),React.createElement(_Col,{span:20,style:{textAlign:\"right\",textIndent:10}},item.itemValue));});};_this.logout=function(){var self=_assertThisInitialized(_this);_Modal.confirm({title:'确定退出当前帐号吗？退出后无法接收在线消息哦！',content:'聊天记录不受影响，再次上线会自动推送离线消息',cancelText:'取消',okText:'确定',onOk:function onOk(){_message.loading('正在为您退出，请稍候...',0);setTimeout(function(){return self.props.logout();},1000);}});};return _this;}_createClass(UserInfo,[{key:\"render\",value:function render(){var _this2=this;var userInfo=this.props.user.userInfo;return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"basic-info border-b\"},React.createElement(\"div\",{className:\"left\"},React.createElement(_Avatar,{size:60,shape:\"square\",src:userInfo.avatar}),React.createElement(\"div\",{className:\"edit-avatar\",onClick:function onClick(){return _this2.changeModalStatus(true);}},React.createElement(_Icon,{type:\"cloud-upload\"}))),React.createElement(\"div\",{className:\"right\"},React.createElement(\"div\",{className:\"user-name\"},userInfo.nickname),React.createElement(\"div\",{className:\"user-desc\"},\"\\u624B\\u673A\\u53F7\\uFF1A183***8888\")),React.createElement(\"div\",{className:\"clearfix\"})),this.getItemList(),React.createElement(\"div\",{className:\"btn-operation\"},React.createElement(_Button,{type:\"danger\",block:true,onClick:function onClick(){return _this2.logout();}},\"\\u9000\\u51FA\\u767B\\u5F55\"),React.createElement(_Button,{block:true},\"\\u6CE8\\u9500\\u8D26\\u53F7\")),this.createModal());}}]);return UserInfo;}(Component);export default connect(function(state){return{user:state.user};},{logout:logout})(withRouter(UserInfo));","map":{"version":3,"sources":["/Users/mr.bo/项目/React/react-im的副本/src/components/commom/user-info/index.jsx"],"names":["React","Component","connect","withRouter","logout","UserInfo","state","visible","createModal","changeModalStatus","setState","getItemList","userInfo","props","user","itemList","itemName","itemValue","area","nickname","phone","autograph","map","item","index","textAlign","textIndent","self","confirm","title","content","cancelText","okText","onOk","loading","setTimeout","avatar"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport {connect} from 'react-redux'\nimport {withRouter} from 'react-router-dom'\nimport {Avatar, Row, Col, Button, Modal, message as AM, Icon, Upload} from 'antd'\nimport {logout} from '../../../redux/actions'\n\nimport './user-info.less'\n\nclass UserInfo extends Component {\n\n    state = {visible: false}\n\n    render() {\n        const {userInfo} = this.props.user\n        return (\n            <div>\n                <div className=\"basic-info border-b\">\n                    <div className=\"left\">\n                        <Avatar size={60} shape=\"square\" src={userInfo.avatar} />\n                        <div className=\"edit-avatar\" onClick={() => this.changeModalStatus(true)}><Icon type=\"cloud-upload\" /></div>\n                    </div>\n                    <div className=\"right\">\n                        <div className=\"user-name\">{userInfo.nickname}</div>\n                        <div className=\"user-desc\">手机号：183***8888</div>\n                    </div>\n                    <div className=\"clearfix\"/>\n                </div>\n                {this.getItemList()}\n                <div className=\"btn-operation\">\n                    <Button type=\"danger\" block={true} onClick={() => this.logout()}>退出登录</Button>\n                    <Button block={true}>注销账号</Button>\n                </div>\n                {this.createModal()}\n            </div>\n        )\n    }\n\n    createModal = () => {\n        const {visible} = this.state\n        return <Modal\n            visible={visible}\n            title=\"上传头像\"\n            onCancel={() => this.changeModalStatus(false)}\n            footer={false}\n        >\n            <Upload.Dragger name=\"file\" multiple={false}>\n                <p className=\"ant-upload-drag-icon\">\n                    <Icon type=\"cloud-upload\" />\n                </p>\n                <p className=\"ant-upload-text\">点击这里上传头像</p>\n            </Upload.Dragger>\n        </Modal>\n    }\n\n    changeModalStatus = visible => {\n        this.setState({visible})\n    }\n\n    getItemList = () => {\n        const {user: {userInfo}} = this.props\n        const itemList = [\n            {itemName: \"地区\", itemValue: userInfo.area},\n            {itemName: \"昵称\", itemValue: userInfo.nickname},\n            {itemName: \"手机号\", itemValue: userInfo.phone},\n            {itemName: \"个性签名\", itemValue: userInfo.autograph || '暂无'},\n        ]\n        return itemList.map((item, index) => (\n            <Row className=\"user-item border-b\" key={index}>\n                <Col span={4}>{item.itemName}</Col>\n                <Col span={20} style={{textAlign: \"right\", textIndent: 10}}>{item.itemValue}</Col>\n            </Row>\n        ))\n    }\n\n    logout = () => {\n        const self = this\n        Modal.confirm({\n            title: '确定退出当前帐号吗？退出后无法接收在线消息哦！',\n            content: '聊天记录不受影响，再次上线会自动推送离线消息',\n            cancelText: '取消',\n            okText: '确定',\n            onOk() {\n                AM.loading('正在为您退出，请稍候...', 0);\n                setTimeout(() => self.props.logout(), 1000)\n            },\n        });\n    }\n}\n\nexport default connect(\n    state => ({user: state.user}), {logout}\n)(withRouter(UserInfo))"]},"metadata":{},"sourceType":"module"}