{"ast":null,"code":"import\"antd/lib/button/style\";import _Button from\"antd/lib/button\";import\"antd/lib/input/style\";import _Input from\"antd/lib/input\";import\"antd/lib/icon/style\";import _Icon from\"antd/lib/icon\";import\"antd/lib/form/style\";import _Form from\"antd/lib/form\";import _classCallCheck from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{connect}from'react-redux';import{Redirect}from'react-router-dom';import ReactLogo from'../../assets/images/about/react.png';import{login}from'../../redux/actions';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(){var _getPrototypeOf2;var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Login)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.handleSubmit=function(e){e.preventDefault();_this.props.form.validateFields(function(err,values){if(!err){_this.props.login(values.username,values.password);}});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this$props=this.props,getFieldDecorator=_this$props.form.getFieldDecorator,_this$props$user=_this$props.user,redirectTo=_this$props$user.redirectTo,msg=_this$props$user.msg;var Item=_Form.Item;if(redirectTo){if(redirectTo==='/login')window.location.reload();return React.createElement(Redirect,{to:redirectTo});}return React.createElement(\"div\",{className:\"login-box\"},React.createElement(\"div\",{className:\"login-logo\"},React.createElement(\"img\",{src:ReactLogo,alt:\"\"}),React.createElement(\"h1\",{className:\"\"},\"React-Im\")),React.createElement(_Form,{onSubmit:this.handleSubmit,className:\"login-form\"},msg?React.createElement(\"div\",{className:\"error-msg\"},msg):null,React.createElement(Item,null,getFieldDecorator('username',{rules:[{required:true,message:'Please input your username!'}]})(React.createElement(_Input,{prefix:React.createElement(_Icon,{type:\"user\",style:{color:'rgba(0,0,0,.25)'}}),placeholder:\"Username\"}))),React.createElement(Item,null,getFieldDecorator('password',{rules:[{required:true,message:'Please input your Password!'}]})(React.createElement(_Input,{prefix:React.createElement(_Icon,{type:\"lock\",style:{color:'rgba(0,0,0,.25)'}}),type:\"password\",placeholder:\"Password\"}))),React.createElement(Item,null,React.createElement(_Button,{type:\"primary\",htmlType:\"submit\",className:\"login-form-button\"},\"Log in\"))));}}]);return Login;}(Component);export default connect(function(state){return{user:state.user};},{login:login})(_Form.create({name:'normal_login'})(Login));","map":{"version":3,"sources":["/Users/mr.bo/项目/React/react-im/src/containers/login/login.jsx"],"names":["React","Component","connect","Redirect","ReactLogo","login","Login","handleSubmit","e","preventDefault","props","form","validateFields","err","values","username","password","getFieldDecorator","user","redirectTo","msg","Item","window","location","reload","rules","required","message","color","state","create","name"],"mappings":"k3BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,QAAT,KAAyB,kBAAzB,CAGA,MAAOC,CAAAA,SAAP,KAAsB,qCAAtB,CACA,OAASC,KAAT,KAAsB,qBAAtB,C,GAEMC,CAAAA,K,2XAEFC,Y,CAAe,SAAAC,CAAC,CAAI,CAChBA,CAAC,CAACC,cAAF,GACA,MAAKC,KAAL,CAAWC,IAAX,CAAgBC,cAAhB,CAA+B,SAACC,GAAD,CAAMC,MAAN,CAAiB,CAC5C,GAAI,CAACD,GAAL,CAAU,CACN,MAAKH,KAAL,CAAWL,KAAX,CAAiBS,MAAM,CAACC,QAAxB,CAAkCD,MAAM,CAACE,QAAzC,EACH,CACJ,CAJD,EAKH,C,wEAEQ,iBAC8D,KAAKN,KADnE,CACWO,iBADX,aACGN,IADH,CACWM,iBADX,8BACgCC,IADhC,CACwCC,UADxC,kBACwCA,UADxC,CACoDC,GADpD,kBACoDA,GADpD,CAEL,GAAMC,CAAAA,IAAI,CAAG,MAAKA,IAAlB,CACA,GAAIF,UAAJ,CAAgB,CACZ,GAAIA,UAAU,GAAK,QAAnB,CAA6BG,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAC7B,MAAO,qBAAC,QAAD,EAAU,EAAE,CAAEL,UAAd,EAAP,CACH,CACD,MACI,4BAAK,SAAS,CAAC,WAAf,EACI,2BAAK,SAAS,CAAC,YAAf,EACI,2BAAK,GAAG,CAAEf,SAAV,CAAqB,GAAG,CAAC,EAAzB,EADJ,CAEI,0BAAI,SAAS,CAAC,EAAd,aAFJ,CADJ,CAKI,2BAAM,QAAQ,CAAE,KAAKG,YAArB,CAAmC,SAAS,CAAC,YAA7C,EACKa,GAAG,CAAG,2BAAK,SAAS,CAAC,WAAf,EAA4BA,GAA5B,CAAH,CAA4C,IADpD,CAEI,oBAAC,IAAD,MACKH,iBAAiB,CAAC,UAAD,CAAa,CAC3BQ,KAAK,CAAE,CAAC,CAAEC,QAAQ,CAAE,IAAZ,CAAkBC,OAAO,CAAE,6BAA3B,CAAD,CADoB,CAAb,CAAjB,CAGG,4BACI,MAAM,CAAE,2BAAM,IAAI,CAAC,MAAX,CAAkB,KAAK,CAAE,CAAEC,KAAK,CAAE,iBAAT,CAAzB,EADZ,CAEI,WAAW,CAAC,UAFhB,EAHH,CADL,CAFJ,CAYI,oBAAC,IAAD,MACKX,iBAAiB,CAAC,UAAD,CAAa,CAC3BQ,KAAK,CAAE,CAAC,CAAEC,QAAQ,CAAE,IAAZ,CAAkBC,OAAO,CAAE,6BAA3B,CAAD,CADoB,CAAb,CAAjB,CAGG,4BACI,MAAM,CAAE,2BAAM,IAAI,CAAC,MAAX,CAAkB,KAAK,CAAE,CAAEC,KAAK,CAAE,iBAAT,CAAzB,EADZ,CAEI,IAAI,CAAC,UAFT,CAGI,WAAW,CAAC,UAHhB,EAHH,CADL,CAZJ,CAuBI,oBAAC,IAAD,MACI,6BAAQ,IAAI,CAAC,SAAb,CAAuB,QAAQ,CAAC,QAAhC,CAAyC,SAAS,CAAC,mBAAnD,WADJ,CAvBJ,CALJ,CADJ,CAqCH,C,mBAvDe3B,S,EA0DpB,cAAeC,CAAAA,OAAO,CAClB,SAAA2B,KAAK,QAAK,CAAEX,IAAI,CAAEW,KAAK,CAACX,IAAd,CAAL,EADa,CACe,CAAEb,KAAK,CAALA,KAAF,CADf,CAAP,CAEb,MAAKyB,MAAL,CAAY,CAAEC,IAAI,CAAE,cAAR,CAAZ,EAAsCzB,KAAtC,CAFa,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Redirect } from 'react-router-dom'\nimport { Form, Icon, Input, Button } from 'antd'\n\nimport ReactLogo from '../../assets/images/about/react.png'\nimport { login } from '../../redux/actions'\n\nclass Login extends Component {\n\n    handleSubmit = e => {\n        e.preventDefault();\n        this.props.form.validateFields((err, values) => {\n            if (!err) {\n                this.props.login(values.username, values.password)\n            }\n        })\n    }\n\n    render() {\n        const { form: { getFieldDecorator }, user: { redirectTo, msg } } = this.props\n        const Item = Form.Item\n        if (redirectTo) {\n            if (redirectTo === '/login') window.location.reload()\n            return <Redirect to={redirectTo} />\n        }\n        return (\n            <div className=\"login-box\">\n                <div className=\"login-logo\">\n                    <img src={ReactLogo} alt=\"\" />\n                    <h1 className=\"\">React-Im</h1>\n                </div>\n                <Form onSubmit={this.handleSubmit} className=\"login-form\">\n                    {msg ? <div className='error-msg'>{msg}</div> : null}\n                    <Item>\n                        {getFieldDecorator('username', {\n                            rules: [{ required: true, message: 'Please input your username!' }],\n                        })(\n                            <Input\n                                prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                                placeholder=\"Username\"\n                            />,\n                        )}\n                    </Item>\n                    <Item>\n                        {getFieldDecorator('password', {\n                            rules: [{ required: true, message: 'Please input your Password!' }],\n                        })(\n                            <Input\n                                prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                                type=\"password\"\n                                placeholder=\"Password\"\n                            />,\n                        )}\n                    </Item>\n                    <Item>\n                        <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n                            Log in\n                        </Button>\n                    </Item>\n                </Form>\n            </div>\n        )\n    }\n}\n\nexport default connect(\n    state => ({ user: state.user }), { login }\n)(Form.create({ name: 'normal_login' })(Login))"]},"metadata":{},"sourceType":"module"}