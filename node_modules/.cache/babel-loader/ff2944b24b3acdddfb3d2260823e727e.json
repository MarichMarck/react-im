{"ast":null,"code":"/**\r\n * 能发送ajax请求的函数模块\r\n * 函数的返回值是promise对象\r\n */\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nconst baseUrl = '';\nexport default function ajax(url, data = {}, type = 'POST') {\n  url = baseUrl + url;\n  data[\"token\"] = Cookies.get('token');\n\n  try {\n    if (type === 'GET') {\n      let paramStr = '';\n      Object.keys(data).forEach(key => {\n        paramStr += `${key}=${data[key]}&`;\n      });\n\n      if (paramStr) {\n        paramStr = paramStr.substring(0, paramStr.length - 1);\n      }\n\n      return axios.get(url + '?' + paramStr);\n    } else {\n      return axios.post(url, data);\n    }\n  } catch (e) {\n    console.log(3);\n  }\n}","map":{"version":3,"sources":["/Users/mr.bo/项目/React/react-im/src/api/ajax.js"],"names":["axios","Cookies","baseUrl","ajax","url","data","type","get","paramStr","Object","keys","forEach","key","substring","length","post","e","console","log"],"mappings":"AAAA;;;;AAIA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,MAAMC,OAAO,GAAG,EAAhB;AACA,eAAe,SAASC,IAAT,CAAcC,GAAd,EAAmBC,IAAI,GAAE,EAAzB,EAA6BC,IAAI,GAAE,MAAnC,EAA2C;AACtDF,EAAAA,GAAG,GAAGF,OAAO,GAAGE,GAAhB;AACAC,EAAAA,IAAI,CAAC,OAAD,CAAJ,GAAgBJ,OAAO,CAACM,GAAR,CAAY,OAAZ,CAAhB;;AACA,MAAI;AACA,QAAGD,IAAI,KAAK,KAAZ,EAAmB;AACf,UAAIE,QAAQ,GAAG,EAAf;AACAC,MAAAA,MAAM,CAACC,IAAP,CAAYL,IAAZ,EAAkBM,OAAlB,CAA0BC,GAAG,IAAI;AAC7BJ,QAAAA,QAAQ,IAAK,GAAEI,GAAI,IAAGP,IAAI,CAACO,GAAD,CAAM,GAAhC;AACH,OAFD;;AAGA,UAAGJ,QAAH,EAAa;AACTA,QAAAA,QAAQ,GAAGA,QAAQ,CAACK,SAAT,CAAmB,CAAnB,EAAsBL,QAAQ,CAACM,MAAT,GAAkB,CAAxC,CAAX;AACH;;AACD,aAAOd,KAAK,CAACO,GAAN,CAAUH,GAAG,GAAG,GAAN,GAAYI,QAAtB,CAAP;AACH,KATD,MASO;AACH,aAAOR,KAAK,CAACe,IAAN,CAAWX,GAAX,EAAgBC,IAAhB,CAAP;AACH;AACJ,GAbD,CAaE,OAAOW,CAAP,EAAU;AACRC,IAAAA,OAAO,CAACC,GAAR,CAAY,CAAZ;AACH;AACJ","sourcesContent":["/**\r\n * 能发送ajax请求的函数模块\r\n * 函数的返回值是promise对象\r\n */\r\nimport axios from 'axios'\r\nimport Cookies from 'js-cookie'\r\n\r\nconst baseUrl = ''\r\nexport default function ajax(url, data= {}, type= 'POST') {\r\n    url = baseUrl + url\r\n    data[\"token\"] = Cookies.get('token')\r\n    try {\r\n        if(type === 'GET') {\r\n            let paramStr = ''\r\n            Object.keys(data).forEach(key => {\r\n                paramStr += `${key}=${data[key]}&`\r\n            })\r\n            if(paramStr) {\r\n                paramStr = paramStr.substring(0, paramStr.length - 1)\r\n            }\r\n            return axios.get(url + '?' + paramStr)\r\n        } else {\r\n            return axios.post(url, data)\r\n        } \r\n    } catch (e) {\r\n        console.log(3)\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}