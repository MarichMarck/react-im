{"ast":null,"code":"import\"antd/lib/button/style\";import _Button from\"antd/lib/button\";import\"antd/lib/input/style\";import _Input from\"antd/lib/input\";import\"antd/lib/row/style\";import _Row from\"antd/lib/row\";import\"antd/lib/col/style\";import _Col from\"antd/lib/col\";import\"antd/lib/icon/style\";import _Icon from\"antd/lib/icon\";import\"antd/lib/message/style\";import _message from\"antd/lib/message\";import _defineProperty from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/mr.bo/\\u9879\\u76EE/React/react-im/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{connect}from'react-redux';import{sendChatMsg}from'../../../redux/actions';var ChatTextarea=/*#__PURE__*/function(_Component){_inherits(ChatTextarea,_Component);function ChatTextarea(){var _getPrototypeOf2;var _this;_classCallCheck(this,ChatTextarea);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ChatTextarea)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={message:''};_this.handleTextArea=function(name,e){_this.setState(_defineProperty({},name,e.target.value));};_this.sendChatMess=function(e){e.preventDefault();var message=_this.state.message;if(!message){_message.error('不能发送空字符');return;}_this.setState({message:''});var user=_this.props.user;var msgData={id:user.user_id,avatar:user.avatar,message:message,position:\"right\"};_this.props.sendChatMsg(msgData);};return _this;}_createClass(ChatTextarea,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"chat-tools\"},React.createElement(_Row,null,React.createElement(_Col,{span:18},React.createElement(_Icon,{type:\"smile\",style:{marginLeft:5,marginRight:10}}),React.createElement(_Icon,{type:\"folder\"})),React.createElement(_Col,{span:6,style:{textAlign:\"right\"}},React.createElement(_Icon,{type:\"video-camera\",style:{marginRight:10}}),React.createElement(_Icon,{type:\"download\"})))),React.createElement(_Input.TextArea,{className:\"chat-textarea\",onChange:function onChange(e){_this2.handleTextArea('message',e);},placeholder:\"\\u8F93\\u5165\\u4FE1\\u606F...\",onPressEnter:function onPressEnter(e){_this2.sendChatMess(e);},value:this.state.message}),React.createElement(_Button,{style:{float:\"right\"},onClick:function onClick(){_this2.sendChatMess();}},\"Enter\"));}}]);return ChatTextarea;}(Component);export default connect(function(state){return{chat:state.chat,user:state.user};},{sendChatMsg:sendChatMsg})(ChatTextarea);","map":{"version":3,"sources":["/Users/mr.bo/项目/React/react-im/src/pages/chat/message/textarea.jsx"],"names":["React","Component","connect","sendChatMsg","ChatTextarea","state","message","handleTextArea","name","e","setState","target","value","sendChatMess","preventDefault","error","user","props","msgData","id","user_id","avatar","position","marginLeft","marginRight","textAlign","float","chat"],"mappings":"4mCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CAGA,OAASC,WAAT,KAA4B,wBAA5B,C,GAEMC,CAAAA,Y,uZAEFC,K,CAAQ,CAAEC,OAAO,CAAE,EAAX,C,OAERC,c,CAAiB,SAACC,IAAD,CAAOC,CAAP,CAAa,CAC1B,MAAKC,QAAL,oBACKF,IADL,CACYC,CAAC,CAACE,MAAF,CAASC,KADrB,GAGH,C,OAEDC,Y,CAAe,SAACJ,CAAD,CAAO,CAClBA,CAAC,CAACK,cAAF,GADkB,GAEVR,CAAAA,OAFU,CAEE,MAAKD,KAFP,CAEVC,OAFU,CAGlB,GAAG,CAACA,OAAJ,CAAa,CACT,SAAGS,KAAH,CAAS,SAAT,EACA,OACH,CACD,MAAKL,QAAL,CAAc,CAAEJ,OAAO,CAAE,EAAX,CAAd,EAPkB,GAQVU,CAAAA,IARU,CAQD,MAAKC,KARJ,CAQVD,IARU,CASlB,GAAME,CAAAA,OAAO,CAAG,CACZC,EAAE,CAAEH,IAAI,CAACI,OADG,CAEZC,MAAM,CAAEL,IAAI,CAACK,MAFD,CAGZf,OAAO,CAAEA,OAHG,CAIZgB,QAAQ,CAAE,OAJE,CAAhB,CAMA,MAAKL,KAAL,CAAWd,WAAX,CAAuBe,OAAvB,EACH,C,+EAEQ,iBACL,MACI,gCACI,2BAAK,SAAS,CAAC,YAAf,EACI,8BACI,0BAAK,IAAI,CAAE,EAAX,EACI,2BAAM,IAAI,CAAC,OAAX,CAAmB,KAAK,CAAE,CAAEK,UAAU,CAAE,CAAd,CAAiBC,WAAW,CAAE,EAA9B,CAA1B,EADJ,CAEI,2BAAM,IAAI,CAAC,QAAX,EAFJ,CADJ,CAKI,0BAAK,IAAI,CAAE,CAAX,CAAc,KAAK,CAAE,CAAEC,SAAS,CAAE,OAAb,CAArB,EACI,2BAAM,IAAI,CAAC,cAAX,CAA0B,KAAK,CAAE,CAAED,WAAW,CAAE,EAAf,CAAjC,EADJ,CAEI,2BAAM,IAAI,CAAC,UAAX,EAFJ,CALJ,CADJ,CADJ,CAaI,2BAAO,QAAP,EAAgB,SAAS,CAAC,eAA1B,CACO,QAAQ,CAAE,kBAAAf,CAAC,CAAI,CAAE,MAAI,CAACF,cAAL,CAAoB,SAApB,CAA+BE,CAA/B,EAAmC,CAD3D,CAC6D,WAAW,CAAC,6BADzE,CAEO,YAAY,CAAE,sBAACA,CAAD,CAAO,CAAE,MAAI,CAACI,YAAL,CAAkBJ,CAAlB,EAAsB,CAFpD,CAGO,KAAK,CAAE,KAAKJ,KAAL,CAAWC,OAHzB,EAbJ,CAkBI,6BAAQ,KAAK,CAAE,CAAEoB,KAAK,CAAE,OAAT,CAAf,CAAmC,OAAO,CAAG,kBAAM,CAAE,MAAI,CAACb,YAAL,GAAqB,CAA1E,UAlBJ,CADJ,CAsBH,C,0BAnDsBZ,S,EAsD3B,cAAeC,CAAAA,OAAO,CAClB,SAAAG,KAAK,QAAK,CAAEsB,IAAI,CAAEtB,KAAK,CAACsB,IAAd,CAAoBX,IAAI,CAAEX,KAAK,CAACW,IAAhC,CAAL,EADa,CAElB,CAAEb,WAAW,CAAXA,WAAF,CAFkB,CAAP,CAGbC,YAHa,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Row, Col, Icon, Button, Input, message as AM } from 'antd'\n\nimport { sendChatMsg } from '../../../redux/actions'\n\nclass ChatTextarea extends Component {\n\n    state = { message: '' }\n\n    handleTextArea = (name, e) => {\n        this.setState({\n            [name]: e.target.value\n        })\n    }\n\n    sendChatMess = (e) => {\n        e.preventDefault();\n        const { message } = this.state\n        if(!message) {\n            AM.error('不能发送空字符')\n            return\n        }\n        this.setState({ message: '' })\n        const { user } = this.props\n        const msgData = {\n            id: user.user_id,\n            avatar: user.avatar,\n            message: message,\n            position: \"right\"\n        }\n        this.props.sendChatMsg(msgData)\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"chat-tools\">\n                    <Row>\n                        <Col span={18}>\n                            <Icon type=\"smile\" style={{ marginLeft: 5, marginRight: 10 }} />\n                            <Icon type=\"folder\" />\n                        </Col>\n                        <Col span={6} style={{ textAlign: \"right\" }}>\n                            <Icon type=\"video-camera\" style={{ marginRight: 10 }} />\n                            <Icon type=\"download\" />\n                        </Col>\n                    </Row>\n                </div>\n                <Input.TextArea className=\"chat-textarea\"\n                       onChange={e => { this.handleTextArea('message', e) }} placeholder=\"输入信息...\"\n                       onPressEnter={(e) => { this.sendChatMess(e) }}\n                       value={this.state.message}\n                />\n                <Button style={{ float: \"right\" }} onClick={ () => { this.sendChatMess() }}>Enter</Button>\n            </div>\n        )\n    }\n}\n\nexport default connect(\n    state => ({ chat: state.chat, user: state.user }),\n    { sendChatMsg }\n)(ChatTextarea)"]},"metadata":{},"sourceType":"module"}